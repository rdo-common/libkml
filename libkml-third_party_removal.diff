--- configure.ac~	2009-01-12 20:34:47.000000000 +0300
+++ configure.ac	2009-01-30 12:21:01.018236863 +0300
@@ -210,7 +210,6 @@
 	testdata/update/Makefile
 	testdata/xal/Makefile
 	testdata/xsd/Makefile
-	third_party/Makefile
 	xcode/Makefile
 	xcode/LibKML/Makefile
 ])
--- examples/engine/Makefile.am~	2009-01-09 22:31:04.000000000 +0300
+++ examples/engine/Makefile.am	2009-01-30 15:09:43.408236214 +0300
@@ -1,6 +1,4 @@
-AM_CPPFLAGS = -I$(top_srcdir)/src \
-	      -I$(top_srcdir)/third_party/boost_1_34_1 \
-	      -I$(top_srcdir)/third_party/uriparser-0.7.1/include
+AM_CPPFLAGS = -I$(top_srcdir)/src
 
 if GCC
 AM_CXXFLAGS = -Wall -Werror -ansi -pedantic -fno-rtti
--- examples/gpx/Makefile.am~	2008-10-28 07:30:02.000000000 +0300
+++ examples/gpx/Makefile.am	2009-01-30 15:08:44.819235790 +0300
@@ -1,5 +1,4 @@
-AM_CPPFLAGS = -I$(top_srcdir)/src \
-	      -I$(top_srcdir)/third_party/boost_1_34_1
+AM_CPPFLAGS = -I$(top_srcdir)/src
 
 if GCC
 AM_CXXFLAGS = -Wall -Werror -ansi -pedantic -fno-rtti
--- examples/hellonet/Makefile.am~	2008-10-28 07:30:02.000000000 +0300
+++ examples/hellonet/Makefile.am	2009-01-30 16:07:34.089236539 +0300
@@ -1,8 +1,6 @@
 if HAVE_CURL
 AM_CPPFLAGS = -I$(top_srcdir)/src \
-	      -I$(top_srcdir)/examples/hellonet \
-	      -I$(top_srcdir)/third_party/boost_1_34_1 \
-	      -I$(top_srcdir)/third_party/uriparser-0.7.1/include
+	      -I$(top_srcdir)/examples/hellonet
 
 if GCC
 AM_CXXFLAGS = -Wall -Werror -ansi -pedantic -fno-rtti
--- examples/helloworld/Makefile.am~	2009-01-10 01:04:32.000000000 +0300
+++ examples/helloworld/Makefile.am	2009-01-30 16:05:34.819235683 +0300
@@ -1,7 +1,5 @@
 AM_CPPFLAGS = -I$(top_srcdir)/src \
-	      -I$(top_srcdir)/examples/helloworld \
-	      -I$(top_srcdir)/third_party/boost_1_34_1 \
-	      -I$(top_srcdir)/third_party/uriparser-0.7.1/include
+	      -I$(top_srcdir)/examples/helloworld
 
 
 if GCC
@@ -11,7 +9,7 @@
 noinst_LTLIBRARIES = libhelloutil.la
 
 libhelloutil_la_SOURCES = print.cc
-libhelloutil_la_LIBADD = $(top_builddir)/third_party/libminizip.la
+libhelloutil_la_LIBADD = -lminizip -lz
 
 noinst_PROGRAMS = countkml createkml checklinks helloattrs helloenum \
                   hellofeatures hellofolder hellogeometry hellohref hellokmz \
--- examples/regionator/Makefile.am~	2009-01-09 22:31:04.000000000 +0300
+++ examples/regionator/Makefile.am	2009-01-30 15:14:04.349235516 +0300
@@ -1,7 +1,4 @@
-AM_CPPFLAGS = -I$(top_srcdir)/src \
-              -I$(top_srcdir)/third_party/boost_1_34_1 \
-              -I$(top_srcdir)/third_party/uriparser-0.7.1/include \
-              -I$(top_srcdir)/third_party/zlib-1.2.3/contrib
+AM_CPPFLAGS = -I$(top_srcdir)/src
 
 if GCC
 AM_CXXFLAGS = -Wall -Werror -ansi -pedantic -fno-rtti
--- examples/xsd/Makefile.am~	2008-11-04 21:58:19.000000000 +0300
+++ examples/xsd/Makefile.am	2009-01-30 15:15:02.697234587 +0300
@@ -1,6 +1,4 @@
-AM_CPPFLAGS = -I$(top_srcdir)/src \
-	      -I$(top_srcdir)/examples/xsd \
-	      -I$(top_srcdir)/third_party/boost_1_34_1
+AM_CPPFLAGS = -I$(top_srcdir)/src
 
 if GCC
 AM_CXXFLAGS = -Wall -Werror -ansi -pedantic -fno-rtti
--- Makefile.am~	2009-01-09 22:31:04.000000000 +0300
+++ Makefile.am	2009-01-30 12:20:11.472234263 +0300
@@ -1,7 +1,7 @@
 ACLOCAL_AMFLAGS = -I m4
 
 # Order is important:
-SUBDIRS = third_party src testdata examples msvc xcode
+SUBDIRS = src testdata examples msvc xcode
 
 EXTRA_DIST = \
 	AUTHORS \
--- src/kml/base/Makefile.am~	2009-01-09 22:31:01.000000000 +0300
+++ src/kml/base/Makefile.am	2009-01-30 14:19:54.415237475 +0300
@@ -1,14 +1,11 @@
-AM_CPPFLAGS = -I$(top_srcdir)/src \
-              -I$(top_srcdir)/third_party/boost_1_34_1 \
-              -I$(top_srcdir)/third_party/uriparser-0.7.1/include \
-              -I$(top_srcdir)/third_party/googletest-r108/include
+AM_CPPFLAGS = -I$(top_srcdir)/src
 
 if GCC
 AM_CXXFLAGS = -Wall -Werror -ansi -pedantic -fno-rtti
 AM_TEST_CXXFLAGS = -Wall -Werror -ansi -fno-rtti -DGTEST_HAS_RTTI=0
 endif
 
-libkmlbase_la_LDFLAGS = -lexpat
+libkmlbase_la_LDFLAGS = -lexpat -luriparser
 
 lib_LTLIBRARIES = libkmlbase.la
 libkmlbase_la_SOURCES = \
@@ -75,90 +72,71 @@
 
 attributes_test_SOURCES = attributes_test.cc
 attributes_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
-attributes_test_LDADD = libkmlbase.la \
-			$(top_builddir)/third_party/libgtest.la
+attributes_test_LDADD = libkmlbase.la
 
 color32_test_SOURCES = color32_test.cc
 color32_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
-color32_test_LDADD = libkmlbase.la \
-		     $(top_builddir)/third_party/libgtest.la
+color32_test_LDADD = libkmlbase.la
 
 date_time_test_SOURCES = date_time_test.cc
 date_time_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
-date_time_test_LDADD = libkmlbase.la \
-		       $(top_builddir)/third_party/libgtest.la
+date_time_test_LDADD = libkmlbase.la
 
 expat_handler_ns_test_SOURCES = expat_handler_ns_test.cc
 expat_handler_ns_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
-expat_handler_ns_test_LDADD = libkmlbase.la \
-			      $(top_builddir)/third_party/libgtest.la
+expat_handler_ns_test_LDADD = libkmlbase.la
 
 expat_parser_test_SOURCES = expat_parser_test.cc
 expat_parser_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
-expat_parser_test_LDADD = libkmlbase.la \
-			      $(top_builddir)/third_party/libgtest.la
+expat_parser_test_LDADD = libkmlbase.la
 
 file_test_SOURCES = file_test.cc
 file_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
-file_test_LDADD = libkmlbase.la \
-		  $(top_builddir)/third_party/libgtest.la
+file_test_LDADD = libkmlbase.la
 
 net_cache_test_SOURCES = net_cache_test.cc
 net_cache_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
-net_cache_test_LDADD = libkmlbase.la \
-        $(top_builddir)/third_party/liburiparser.la \
-	$(top_builddir)/third_party/libgtest.la
+net_cache_test_LDADD = libkmlbase.la
 
 referent_test_SOURCES = referent_test.cc
 referent_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
-referent_test_LDADD= libkmlbase.la \
-		     $(top_builddir)/third_party/libgtest.la
+referent_test_LDADD= libkmlbase.la
 
 tempfile_test_SOURCES = tempfile_test.cc
 tempfile_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
-tempfile_test_LDADD = libkmlbase.la \
-		      $(top_builddir)/third_party/libgtest.la
+tempfile_test_LDADD = libkmlbase.la
 
 string_util_test_SOURCES = string_util_test.cc
 string_util_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
-string_util_test_LDADD= libkmlbase.la \
-			$(top_builddir)/third_party/libgtest.la
+string_util_test_LDADD= libkmlbase.la
 
 time_util_test_SOURCES = time_util_test.cc
 time_util_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
-time_util_test_LDADD= libkmlbase.la \
-		      $(top_builddir)/third_party/libgtest.la
+time_util_test_LDADD= libkmlbase.la
 
 util_test_SOURCES = util_test.cc
 util_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
-util_test_LDADD= libkmlbase.la \
-		 $(top_builddir)/third_party/libgtest.la
+util_test_LDADD= libkmlbase.la
 
 uri_parser_test_SOURCES = uri_parser_test.cc
 uri_parser_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
-uri_parser_test_LDADD= libkmlbase.la \
-        $(top_builddir)/third_party/liburiparser.la \
-	$(top_builddir)/third_party/libgtest.la
+uri_parser_test_LDADD= libkmlbase.la
 
 vec3_test_SOURCES = vec3_test.cc
 vec3_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
-vec3_test_LDADD= libkmlbase.la \
-		 $(top_builddir)/third_party/libgtest.la
+vec3_test_LDADD= libkmlbase.la
 
 xml_element_test_SOURCES = xml_element_test.cc
 xml_element_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
-xml_element_test_LDADD= libkmlbase.la \
-		 $(top_builddir)/third_party/libgtest.la
+xml_element_test_LDADD= libkmlbase.la
 
 xml_file_test_SOURCES = xml_file_test.cc
 xml_file_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
-xml_file_test_LDADD= libkmlbase.la \
-		 $(top_builddir)/third_party/libgtest.la
+xml_file_test_LDADD= libkmlbase.la
 
 xmlns_test_SOURCES = xmlns_test.cc
 xmlns_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
-xmlns_test_LDADD= libkmlbase.la \
-		  $(top_builddir)/third_party/libgtest.la
+xmlns_test_LDADD= libkmlbase.la
 
 CLEANFILES = check_PROGRAMS
 
--- src/kml/convenience/Makefile.am~	2008-10-28 07:29:53.000000000 +0300
+++ src/kml/convenience/Makefile.am	2009-01-30 13:08:16.410236843 +0300
@@ -1,7 +1,4 @@
-AM_CPPFLAGS = -I$(top_srcdir)/src \
-	      -I$(top_srcdir)/third_party/boost_1_34_1 \
-	      -I$(top_srcdir)/third_party/uriparser-0.7.1/include \
-              -I$(top_srcdir)/third_party/googletest-r108/include
+AM_CPPFLAGS = -I$(top_srcdir)/src
 
 if GCC
 AM_CXXFLAGS = -Wall -Werror -ansi -pedantic -fno-rtti
@@ -40,47 +37,41 @@
 convenience_test_LDADD = libkmlconvenience.la \
 	$(top_builddir)/src/kml/engine/libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 csv_file_test_SOURCES = csv_file_test.cc
 csv_file_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 csv_file_test_LDADD = libkmlconvenience.la \
 	$(top_builddir)/src/kml/engine/libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 element_counter_test_SOURCES = element_counter_test.cc
 element_counter_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 element_counter_test_LDADD = libkmlconvenience.la \
 	$(top_builddir)/src/kml/engine/libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 feature_list_test_SOURCES = feature_list_test.cc
 feature_list_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 feature_list_test_LDADD = libkmlconvenience.la \
 	$(top_builddir)/src/kml/engine/libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 gpx_trk_pt_handler_test_SOURCES = gpx_trk_pt_handler_test.cc
 gpx_trk_pt_handler_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 gpx_trk_pt_handler_test_LDADD = libkmlconvenience.la \
 	$(top_builddir)/src/kml/engine/libkmlengine.la \
 	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/dom/libkmldom.la
 
 kmz_check_links_test_SOURCES = kmz_check_links_test.cc
 kmz_check_links_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 kmz_check_links_test_LDADD = libkmlconvenience.la \
 	$(top_builddir)/src/kml/engine/libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 CLEANFILES = check_PROGRAMS
--- src/kml/dom/Makefile.am~	2009-01-09 22:31:00.000000000 +0300
+++ src/kml/dom/Makefile.am	2009-01-30 14:28:40.501235777 +0300
@@ -1,12 +1,12 @@
-AM_CPPFLAGS= -I$(top_srcdir)/src \
-	     -I$(top_srcdir)/third_party/boost_1_34_1 \
-	     -I$(top_srcdir)/third_party/googletest-r108/include
+AM_CPPFLAGS= -I$(top_srcdir)/src
 
 if GCC
 AM_CXXFLAGS = -Wall -Werror -ansi -pedantic -fno-rtti
 AM_TEST_CXXFLAGS = -Wall -Werror -ansi -fno-rtti -DGTEST_HAS_RTTI=0
 endif
 
+libkmldom_la_LDFLAGS = -lexpat
+
 lib_LTLIBRARIES = libkmldom.la
 libkmldom_la_SOURCES = \
 	abstractlatlonbox.cc \
@@ -167,283 +167,236 @@
 abstractlatlonbox_test_SOURCES = abstractlatlonbox_test.cc
 abstractlatlonbox_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 abstractlatlonbox_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 abstractview_test_SOURCES = abstractview_test.cc
 abstractview_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 abstractview_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 atom_test_SOURCES = atom_test.cc
 atom_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 atom_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 balloonstyle_test_SOURCES = balloonstyle_test.cc
 balloonstyle_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 balloonstyle_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 colorstyle_test_SOURCES = colorstyle_test.cc
 colorstyle_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 colorstyle_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 container_test_SOURCES = container_test.cc
 container_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 container_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 document_test_SOURCES = document_test.cc
 document_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 document_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 element_test_SOURCES = element_test.cc
 element_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 element_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 extendeddata_test_SOURCES = extendeddata_test.cc
 extendeddata_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 extendeddata_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 feature_test_SOURCES = feature_test.cc
 feature_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 feature_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 folder_test_SOURCES = folder_test.cc
 folder_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 folder_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 geometry_test_SOURCES = geometry_test.cc
 geometry_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 geometry_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 hotspot_test_SOURCES = hotspot_test.cc
 hotspot_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 hotspot_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 iconstyle_test_SOURCES = iconstyle_test.cc
 iconstyle_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 iconstyle_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 kml_cast_test_SOURCES = kml_cast_test.cc
 kml_cast_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 kml_cast_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 kml_test_SOURCES = kml_test.cc
 kml_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 kml_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 kml_factory_test_SOURCES = kml_factory_test.cc
 kml_factory_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 kml_factory_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 kml22_test_SOURCES = kml22_test.cc
 kml22_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 kml22_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 labelstyle_test_SOURCES = labelstyle_test.cc
 labelstyle_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 labelstyle_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 linestyle_test_SOURCES = linestyle_test.cc
 linestyle_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 linestyle_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 link_test_SOURCES = link_test.cc
 link_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 link_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 liststyle_test_SOURCES = liststyle_test.cc
 liststyle_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 liststyle_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 model_test_SOURCES = model_test.cc
 model_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 model_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 networklink_test_SOURCES = networklink_test.cc
 networklink_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 networklink_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 networklinkcontrol_test_SOURCES = networklinkcontrol_test.cc
 networklinkcontrol_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 networklinkcontrol_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 object_test_SOURCES = object_test.cc
 object_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 object_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 overlay_test_SOURCES = overlay_test.cc
 overlay_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 overlay_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 placemark_test_SOURCES = placemark_test.cc
 placemark_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 placemark_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 polystyle_test_SOURCES = polystyle_test.cc
 polystyle_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 polystyle_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 region_test_SOURCES = region_test.cc
 region_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 region_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 round_trip_test_SOURCES = round_trip_test.cc
 round_trip_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 round_trip_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 schema_test_SOURCES = schema_test.cc
 schema_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 schema_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 snippet_test_SOURCES = snippet_test.cc
 snippet_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 snippet_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 style_test_SOURCES = style_test.cc
 style_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 style_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 stylemap_test_SOURCES = stylemap_test.cc
 stylemap_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 stylemap_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 styleselector_test_SOURCES = styleselector_test.cc
 styleselector_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 styleselector_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 substyle_test_SOURCES = substyle_test.cc
 substyle_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 substyle_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 timeprimitive_test_SOURCES = timeprimitive_test.cc
 timeprimitive_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 timeprimitive_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 vec2_test_SOURCES = vec2_test.cc
 vec2_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 vec2_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 unknown_test_SOURCES = unknown_test.cc
 unknown_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 unknown_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 kml_handler_test_SOURCES = kml_handler_test.cc
 kml_handler_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 kml_handler_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 kml_handler_ns_test_SOURCES = kml_handler_ns_test.cc
 kml_handler_ns_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 kml_handler_ns_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 parser_test_SOURCES = parser_test.cc
 parser_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 parser_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 serializer_test_SOURCES = serializer_test.cc
 serializer_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 serializer_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 xal_test_SOURCES = xal_test.cc
 xal_test_CXXFLAGS =  -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 xal_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 xml_serializer_test_SOURCES = xml_serializer_test.cc
 xml_serializer_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 xml_serializer_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 xsd_test_SOURCES = xsd_test.cc
 xsd_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 xsd_test_LDADD= libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 CLEANFILES = check_PROGRAMS
--- src/kml/engine/Makefile.am~	2009-01-09 22:31:00.000000000 +0300
+++ src/kml/engine/Makefile.am	2009-01-30 14:50:53.452235945 +0300
@@ -1,14 +1,12 @@
-AM_CPPFLAGS= -I$(top_srcdir)/src \
-	     -I$(top_srcdir)/third_party/boost_1_34_1 \
-	     -I$(top_srcdir)/third_party/uriparser-0.7.1/include \
-	     -I$(top_srcdir)/third_party/zlib-1.2.3/contrib \
-	     -I$(top_srcdir)/third_party/googletest-r108/include
+AM_CPPFLAGS= -I$(top_srcdir)/src
 
 if GCC
 AM_CXXFLAGS = -Wall -Werror -ansi -pedantic -fno-rtti
 AM_TEST_CXXFLAGS = -Wall -Werror -ansi -fno-rtti -DGTEST_HAS_RTTI=0
 endif
 
+libkmlengine_la_LDFLAGS = -lminizip -lz
+
 lib_LTLIBRARIES = libkmlengine.la
 libkmlengine_la_SOURCES = \
 	clone.cc \
@@ -35,8 +33,6 @@
 	update.cc
 
 libkmlengine_la_LIBADD = \
-	$(top_builddir)/third_party/libminizip.la \
-	$(top_builddir)/third_party/liburiparser.la \
 	$(top_builddir)/src/kml/base/libkmlbase.la
 
 libkmlengineincludedir = $(includedir)/kml/engine
@@ -105,189 +101,156 @@
 bbox_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 bbox_test_LDADD = libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 clone_test_SOURCES = clone_test.cc
 clone_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 clone_test_LDADD = libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 entity_mapper_test_SOURCES = entity_mapper_test.cc
 entity_mapper_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 entity_mapper_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 feature_balloon_test_SOURCES = feature_balloon_test.cc
 feature_balloon_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 feature_balloon_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 feature_visitor_test_SOURCES = feature_visitor_test.cc
 feature_visitor_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 feature_visitor_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 find_test_SOURCES = find_test.cc
 find_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 find_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 get_link_parents_test_SOURCES = get_link_parents_test.cc
 get_link_parents_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 get_link_parents_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 get_links_test_SOURCES = get_links_test.cc
 get_links_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 get_links_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 href_test_SOURCES = href_test.cc
 href_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 href_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 id_mapper_test_SOURCES = id_mapper_test.cc
 id_mapper_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 id_mapper_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 kml_cache_test_SOURCES = kml_cache_test.cc
 kml_cache_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 kml_cache_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/liburiparser.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 kml_file_test_SOURCES = kml_file_test.cc
 kml_file_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 kml_file_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 kml_stream_test_SOURCES = kml_stream_test.cc
 kml_stream_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 kml_stream_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 kml_uri_test_SOURCES = kml_uri_test.cc
 kml_uri_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 kml_uri_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/liburiparser.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 kmz_cache_test_SOURCES = kmz_cache_test.cc
 kmz_cache_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 kmz_cache_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/liburiparser.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 kmz_file_test_SOURCES = kmz_file_test.cc
 kmz_file_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 kmz_file_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 link_util_test_SOURCES = link_util_test.cc
 link_util_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 link_util_test_LDADD = libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/liburiparser.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 location_util_test_SOURCES = location_util_test.cc
 location_util_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 location_util_test_LDADD = libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 merge_test_SOURCES = merge_test.cc
 merge_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 merge_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 object_id_parser_observer_test_SOURCES = object_id_parser_observer_test.cc
 object_id_parser_observer_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 object_id_parser_observer_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 parse_old_schema_test_SOURCES = parse_old_schema_test.cc
 parse_old_schema_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 parse_old_schema_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 schema_parser_observer_test_SOURCES = schema_parser_observer_test.cc
 schema_parser_observer_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 schema_parser_observer_test_LDADD= \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 shared_style_parser_observer_test_SOURCES = shared_style_parser_observer_test.cc
 shared_style_parser_observer_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 shared_style_parser_observer_test_LDADD= \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 style_merger_test_SOURCES = style_merger_test.cc
 style_merger_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 style_merger_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/liburiparser.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 style_resolver_test_SOURCES = style_resolver_test.cc
 style_resolver_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 style_resolver_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/liburiparser.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 update_test_SOURCES = update_test.cc
 update_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 update_test_LDADD= libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/liburiparser.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 CLEANFILES = check_PROGRAMS
--- src/kml/regionator/Makefile.am~	2008-10-28 07:29:52.000000000 +0300
+++ src/kml/regionator/Makefile.am	2009-01-30 13:14:42.100236700 +0300
@@ -1,7 +1,4 @@
-AM_CPPFLAGS= -I$(top_srcdir)/src \
-             -I$(top_srcdir)/third_party/boost_1_34_1 \
-             -I$(top_srcdir)/third_party/uriparser-0.7.1/include \
-	     -I$(top_srcdir)/third_party/googletest-r108/include
+AM_CPPFLAGS= -I$(top_srcdir)/src
 
 
 if GCC
@@ -37,8 +34,7 @@
 	$(top_builddir)/src/kml/convenience/libkmlconvenience.la \
 	$(top_builddir)/src/kml/engine/libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 regionator_test_SOURCES = regionator_test.cc
 regionator_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
@@ -46,8 +42,7 @@
 	$(top_builddir)/src/kml/convenience/libkmlconvenience.la \
 	$(top_builddir)/src/kml/engine/libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 regionator_qid_test_SOURCES = regionator_qid_test.cc
 regionator_qid_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
@@ -55,8 +50,7 @@
 	$(top_builddir)/src/kml/convenience/libkmlconvenience.la \
 	$(top_builddir)/src/kml/engine/libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 regionator_util_test_SOURCES = regionator_util_test.cc
 regionator_util_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
@@ -64,7 +58,6 @@
 	$(top_builddir)/src/kml/convenience/libkmlconvenience.la \
 	$(top_builddir)/src/kml/engine/libkmlengine.la \
 	$(top_builddir)/src/kml/dom/libkmldom.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 CLEANFILES = check_PROGRAMS
--- src/kml/xsd/Makefile.am~	2008-10-28 07:29:53.000000000 +0300
+++ src/kml/xsd/Makefile.am	2009-01-30 13:15:36.758234683 +0300
@@ -1,6 +1,4 @@
-AM_CPPFLAGS = -I$(top_srcdir)/src \
-              -I$(top_srcdir)/third_party/boost_1_34_1 \
-	      -I$(top_srcdir)/third_party/googletest-r108/include
+AM_CPPFLAGS = -I$(top_srcdir)/src
 
 if GCC
 AM_CXXFLAGS = -Wall -Werror -ansi -pedantic -fno-rtti
@@ -48,55 +46,46 @@
 xsd_complex_type_test_SOURCES = xsd_complex_type_test.cc
 xsd_complex_type_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 xsd_complex_type_test_LDADD = libkmlxsd.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 xsd_file_test_SOURCES = xsd_file_test.cc
 xsd_file_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 xsd_file_test_LDADD = libkmlxsd.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 xsd_element_test_SOURCES = xsd_element_test.cc
 xsd_element_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 xsd_element_test_LDADD = libkmlxsd.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 xsd_handler_test_SOURCES = xsd_handler_test.cc
 xsd_handler_test_CXXFLAGS = -DDATADIR=\"$(DATA_DIR)\" $(AM_TEST_CXXFLAGS)
 xsd_handler_test_LDADD = libkmlxsd.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 xsd_primitive_type_test_SOURCES = xsd_primitive_type_test.cc
 xsd_primitive_type_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 xsd_primitive_type_test_LDADD = libkmlxsd.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 xsd_schema_test_SOURCES = xsd_schema_test.cc
 xsd_schema_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 xsd_schema_test_LDADD = libkmlxsd.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 xsd_simple_type_test_SOURCES = xsd_simple_type_test.cc
 xsd_simple_type_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 xsd_simple_type_test_LDADD = libkmlxsd.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 xsd_util_test_SOURCES = xsd_util_test.cc
 xsd_util_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 xsd_util_test_LDADD = libkmlxsd.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 xst_parser_test_SOURCES = xst_parser_test.cc
 xst_parser_test_CXXFLAGS = $(AM_TEST_CXXFLAGS)
 xst_parser_test_LDADD = libkmlxsd.la \
-	$(top_builddir)/src/kml/base/libkmlbase.la \
-	$(top_builddir)/third_party/libgtest.la
+	$(top_builddir)/src/kml/base/libkmlbase.la
 
 CLEANFILES = check_PROGRAMS
--- src/swig/Makefile.am~	2008-10-29 02:04:39.000000000 +0300
+++ src/swig/Makefile.am	2009-01-30 13:22:24.128236653 +0300
@@ -1,8 +1,6 @@
 SUBDIRS = java python
 
-AM_CPPFLAGS = -I$(top_srcdir)/src \
-	      -I$(top_srcdir)/third_party/boost_1_34_1 \
-	      -I$(top_srcdir)/third_party/uriparser-0.7.1/include
+AM_CPPFLAGS = -I$(top_srcdir)/src
 
 
 
